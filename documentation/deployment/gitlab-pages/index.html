<!DOCTYPE html>
<html lang="en-gb">
    <head>
        <meta charset="UTF-8">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="Everything you need to make a static site engine in one binary.">
        <meta name="author" content="Vincent Prouillet">
        <title>GitLab Pages | Zola </title>
        <link rel="stylesheet" href="https://www.getzola.org/site.css">
        <link rel="icon" href="https://www.getzola.org/favicon.ico">
    </head>
    <body>

        <header>
            <a class="header__logo white" href="https:&#x2F;&#x2F;www.getzola.org&#x2F;">Zola</a>
            <nav>
                <ul>
                    <li><a class="white" href="https://www.getzola.org/documentation/" class="nav-link">Docs</a></li>
                    <li><a class="white" href="https://www.getzola.org/themes/" class="nav-link">Themes</a></li>
                    <li><a class="white" href="https://zola.discourse.group/" class="nav-link">Forum</a></li>
                    <li><a class="white" href="https://github.com/getzola/zola" class="nav-link">GitHub</a></li>
                </ul>
                <div class="search-container">
                    <input id="search" type="search" placeholder="ðŸ”Ž Search the docs">

                    <div class="search-results">
                        <div class="search-results__items"></div>
                    </div>
                </div>
            </nav>
        </header>

        <div class="content content--reversed">
            

<div class="documentation">
    <aside class="documentation__sidebar">
        <ul>
        
            
            <li>
                <span class="documentation__sidebar__title">Getting Started</span>
                <ul>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;getting-started&#x2F;overview&#x2F;">Overview</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;getting-started&#x2F;installation&#x2F;">Installation</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;getting-started&#x2F;cli-usage&#x2F;">CLI usage</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;getting-started&#x2F;directory-structure&#x2F;">Directory structure</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;getting-started&#x2F;configuration&#x2F;">Configuration</a>
                        </li>
                    
                </ul>
            </li>
        
            
            <li>
                <span class="documentation__sidebar__title">Content</span>
                <ul>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;content&#x2F;overview&#x2F;">Overview</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;content&#x2F;section&#x2F;">Section</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;content&#x2F;page&#x2F;">Page</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;content&#x2F;shortcodes&#x2F;">Shortcodes</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;content&#x2F;linking&#x2F;">Internal links &amp; deep linking</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;content&#x2F;table-of-contents&#x2F;">Table of Contents</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;content&#x2F;syntax-highlighting&#x2F;">Syntax Highlighting</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;content&#x2F;taxonomies&#x2F;">Taxonomies</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;content&#x2F;search&#x2F;">Search</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;content&#x2F;sass&#x2F;">Sass</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;content&#x2F;image-processing&#x2F;">Image processing</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;content&#x2F;multilingual&#x2F;">Multilingual sites</a>
                        </li>
                    
                </ul>
            </li>
        
            
            <li>
                <span class="documentation__sidebar__title">Templates</span>
                <ul>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;templates&#x2F;overview&#x2F;">Overview</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;templates&#x2F;pages-sections&#x2F;">Sections and Pages</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;templates&#x2F;pagination&#x2F;">Pagination</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;templates&#x2F;taxonomies&#x2F;">Taxonomies</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;templates&#x2F;feeds&#x2F;">Feeds</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;templates&#x2F;sitemap&#x2F;">Sitemap</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;templates&#x2F;robots&#x2F;">Robots.txt</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;templates&#x2F;404&#x2F;">404 error page</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;templates&#x2F;archive&#x2F;">Archive</a>
                        </li>
                    
                </ul>
            </li>
        
            
            <li>
                <span class="documentation__sidebar__title">Themes</span>
                <ul>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;themes&#x2F;overview&#x2F;">Overview</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;themes&#x2F;installing-and-using-themes&#x2F;">Installing &amp; using themes</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;themes&#x2F;creating-a-theme&#x2F;">Creating a theme</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;themes&#x2F;extending-a-theme&#x2F;">Customizing a theme</a>
                        </li>
                    
                </ul>
            </li>
        
            
            <li>
                <span class="documentation__sidebar__title">Deployment</span>
                <ul>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;deployment&#x2F;overview&#x2F;">Overview</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;deployment&#x2F;sourcehut&#x2F;">Sourcehut Pages</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;deployment&#x2F;netlify&#x2F;">Netlify</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;deployment&#x2F;github-pages&#x2F;">GitHub Pages</a>
                        </li>
                    
                        <li class="active">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;deployment&#x2F;gitlab-pages&#x2F;">GitLab Pages</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;deployment&#x2F;codeberg-pages&#x2F;">Codeberg Pages</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;deployment&#x2F;edgio&#x2F;">Edgio</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;deployment&#x2F;vercel&#x2F;">Vercel</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;deployment&#x2F;zeabur&#x2F;">Zeabur</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;deployment&#x2F;cloudflare-pages&#x2F;">Cloudflare Pages</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;deployment&#x2F;flyio&#x2F;">Fly.io</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;deployment&#x2F;aws-s3&#x2F;">AWS S3 Bucket</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;deployment&#x2F;docker-image&#x2F;">Docker image</a>
                        </li>
                    
                </ul>
            </li>
        
        </ul>
    </aside>
    <div class="documentation__content">
        
    <h1>GitLab Pages</h1>
    <p>We are going to use the GitLab Runner in GitLab CI/CD to host
the site on GitLab Pages.</p>
<h2 id="configuring-your-repository"><a class="zola-anchor" href="#configuring-your-repository" aria-label="Anchor link for: configuring-your-repository">ðŸ”—</a>Configuring your repository</h2>
<p>It is possible to host your Zola site on either the SaaS instance offered by
GitLab (<a href="https://gitlab.com">https://gitlab.com</a>) or on a self-hosted instance.</p>
<p>It is recommended to create a repository on GitLab that contains solely your
Zola project. The <a href="https://www.getzola.org/documentation/getting-started/directory-structure/">Zola's directory structure</a>
should be located in the root directory of your repository.</p>
<p>For information on how to create and manage a repository on GitLab, refer to:</p>
<p><a href="https://docs.gitlab.com/ee/user/project/repository/">https://docs.gitlab.com/ee/user/project/repository/</a></p>
<h2 id="ensuring-that-the-runner-can-access-your-theme"><a class="zola-anchor" href="#ensuring-that-the-runner-can-access-your-theme" aria-label="Anchor link for: ensuring-that-the-runner-can-access-your-theme">ðŸ”—</a>Ensuring that the runner can access your theme</h2>
<p>Depending on how you added your theme, your repository may not contain it.
The best way to ensure that the theme will be added is to use submodules.
When doing this, ensure that you are using the <code>https</code> version of the URL.</p>
<pre data-lang="bash" style="background-color:#383838;color:#e6e1dc;" class="language-bash "><code class="language-bash" data-lang="bash"><span>git submodule add {THEME_URL} themes/{THEME_NAME}
</span></code></pre>
<p>For example, this could look like:</p>
<pre data-lang="bash" style="background-color:#383838;color:#e6e1dc;" class="language-bash "><code class="language-bash" data-lang="bash"><span>git submodule add https://github.com/getzola/hyde.git themes/hyde
</span></code></pre>
<h2 id="setting-up-the-gitlab-runner"><a class="zola-anchor" href="#setting-up-the-gitlab-runner" aria-label="Anchor link for: setting-up-the-gitlab-runner">ðŸ”—</a>Setting up the GitLab Runner</h2>
<p>The GitLab Runner needs to know how to create your site in order to deploy
it to the GitLab Pages server.</p>
<p>We provide you with a template to accomplish this task easily.
Create a file called <code>.gitlab-ci.yml</code> in the root directory of your
repository and copy the contents of the template below.</p>
<pre data-lang="yaml" style="background-color:#383838;color:#e6e1dc;" class="language-yaml "><code class="language-yaml" data-lang="yaml"><span style="color:#e8bf6a;">stages</span><span>:
</span><span>  - </span><span style="color:#a5c261;">deploy
</span><span>
</span><span style="color:#e8bf6a;">default</span><span>:
</span><span>  </span><span style="color:#e8bf6a;">image</span><span>: </span><span style="color:#a5c261;">debian:stable-slim
</span><span>
</span><span style="color:#e8bf6a;">variables</span><span>:
</span><span>  </span><span style="color:#95815e;"># The runner will be able to pull your Zola theme when the strategy is
</span><span>  </span><span style="color:#95815e;"># set to &quot;recursive&quot;.
</span><span>  </span><span style="color:#e8bf6a;">GIT_SUBMODULE_STRATEGY</span><span>: </span><span style="color:#c1be91;">&quot;recursive&quot;
</span><span>
</span><span>  </span><span style="color:#95815e;"># If you don&#39;t set a version here, your site will be built with the latest
</span><span>  </span><span style="color:#95815e;"># version of Zola available in GitHub releases.
</span><span>  </span><span style="color:#95815e;"># Use the semver (x.y.z) format to specify a version. For example: &quot;0.17.2&quot; or &quot;0.18.0&quot;.
</span><span>  </span><span style="color:#e8bf6a;">ZOLA_VERSION</span><span>:
</span><span>    </span><span style="color:#e8bf6a;">description</span><span>: </span><span style="color:#c1be91;">&quot;The version of Zola used to build the site.&quot;
</span><span>    </span><span style="color:#e8bf6a;">value</span><span>: </span><span style="color:#c1be91;">&quot;&quot;
</span><span>
</span><span style="color:#e8bf6a;">pages</span><span>:
</span><span>  </span><span style="color:#e8bf6a;">stage</span><span>: </span><span style="color:#a5c261;">deploy
</span><span>  </span><span style="color:#e8bf6a;">script</span><span>:
</span><span>    - </span><span style="color:#cc7833;">|
</span><span style="color:#a5c261;">      apt-get update --assume-yes &amp;&amp; apt-get install --assume-yes --no-install-recommends wget ca-certificates
</span><span style="color:#a5c261;">      if [ $ZOLA_VERSION ]; then
</span><span style="color:#a5c261;">        zola_url=&quot;https://github.com/getzola/zola/releases/download/v$ZOLA_VERSION/zola-v$ZOLA_VERSION-x86_64-unknown-linux-gnu.tar.gz&quot;
</span><span style="color:#a5c261;">        if ! wget --quiet --spider $zola_url; then
</span><span style="color:#a5c261;">          echo &quot;A Zola release with the specified version could not be found.&quot;;
</span><span style="color:#a5c261;">          exit 1;
</span><span style="color:#a5c261;">        fi
</span><span style="color:#a5c261;">      else
</span><span style="color:#a5c261;">        github_api_url=&quot;https://api.github.com/repos/getzola/zola/releases/latest&quot;
</span><span style="color:#a5c261;">        zola_url=$(
</span><span style="color:#a5c261;">          wget --output-document - $github_api_url |
</span><span style="color:#a5c261;">          grep &quot;browser_download_url.*linux-gnu.tar.gz&quot; |
</span><span style="color:#a5c261;">          cut --delimiter : --fields 2,3 |
</span><span style="color:#a5c261;">          tr --delete &quot;\&quot; &quot;
</span><span style="color:#a5c261;">        )
</span><span style="color:#a5c261;">      fi
</span><span style="color:#a5c261;">      wget $zola_url
</span><span style="color:#a5c261;">      tar -xzf *.tar.gz
</span><span style="color:#a5c261;">      ./zola build
</span><span style="color:#a5c261;">
</span><span>  </span><span style="color:#e8bf6a;">artifacts</span><span>:
</span><span>    </span><span style="color:#e8bf6a;">paths</span><span>:
</span><span>      </span><span style="color:#95815e;"># This is the directory whose contents will be deployed to the GitLab Pages
</span><span>      </span><span style="color:#95815e;"># server.
</span><span>      </span><span style="color:#95815e;"># GitLab Pages expects a directory with this name by default.
</span><span>      - </span><span style="color:#a5c261;">public
</span><span>
</span><span>  </span><span style="color:#e8bf6a;">rules</span><span>:
</span><span>    </span><span style="color:#95815e;"># This rule makes it so that your website is published and updated only when
</span><span>    </span><span style="color:#95815e;"># you push to the default branch of your repository (e.g. &quot;master&quot; or &quot;main&quot;).
</span><span>    - </span><span style="color:#e8bf6a;">if</span><span>: </span><span style="color:#a5c261;">$CI_COMMIT_BRANCH == $CI_DEFAULT_BRANCH
</span></code></pre>
<p>Please, keep in mind that this template assumes you are using the
<a href="https://docs.gitlab.com/runner/executors/docker.html">Docker executor</a>
on your GitLab Runner.
Feel free to adjust the file to your workflow and specific requirements.</p>
<p>After you push this file to the default branch of your repository
(e.g. &quot;master&quot; or &quot;main&quot;), your site will be ready. The GitLab CI/CD pipelines
will ensure your site is published and updated automatically.</p>
<p>On the left sidebar of GitLab, navigate to <strong>Deploy &gt; Pages</strong> to find the URL of your
website inside the <strong>Access pages</strong> section.</p>
<p>More information on how to host your site on GitLab Pages is available
<a href="https://docs.gitlab.com/ee/user/project/pages/">in the official GitLab documentation</a>.</p>


    </div>
</div>

        </div>
        <footer>
            Â©2017-2024 â€” <a class="white" href="https://www.vincentprouillet.com">Vincent Prouillet</a> and <a class="white" href="https://github.com/getzola/zola/graphs/contributors">contributors</a>
        </footer>

        <script type="text/javascript" src="https://www.getzola.org/elasticlunr.min.js"></script>
        <script type="text/javascript" src="https://www.getzola.org/search.js"></script>
    </body>
</html>
