<!DOCTYPE html>
<html lang="en-gb">
    <head>
        <meta charset="UTF-8">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="Everything you need to make a static site engine in one binary.">
        <meta name="author" content="Vincent Prouillet">
        <title>Codeberg Pages | Zola </title>
        <link rel="stylesheet" href="https://www.getzola.org/site.css">
        <link rel="icon" href="https://www.getzola.org/favicon.ico">
    </head>
    <body>

        <header>
            <a class="header__logo white" href="https:&#x2F;&#x2F;www.getzola.org&#x2F;">Zola</a>
            <nav>
                <ul>
                    <li><a class="white" href="https://www.getzola.org/documentation/" class="nav-link">Docs</a></li>
                    <li><a class="white" href="https://www.getzola.org/themes/" class="nav-link">Themes</a></li>
                    <li><a class="white" href="https://zola.discourse.group/" class="nav-link">Forum</a></li>
                    <li><a class="white" href="https://github.com/getzola/zola" class="nav-link">GitHub</a></li>
                </ul>
                <div class="search-container">
                    <input id="search" type="search" placeholder="ðŸ”Ž Search the docs">

                    <div class="search-results">
                        <div class="search-results__items"></div>
                    </div>
                </div>
            </nav>
        </header>

        <div class="content content--reversed">
            

<div class="documentation">
    <aside class="documentation__sidebar">
        <ul>
        
            
            <li>
                <span class="documentation__sidebar__title">Getting Started</span>
                <ul>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;getting-started&#x2F;overview&#x2F;">Overview</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;getting-started&#x2F;installation&#x2F;">Installation</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;getting-started&#x2F;cli-usage&#x2F;">CLI usage</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;getting-started&#x2F;directory-structure&#x2F;">Directory structure</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;getting-started&#x2F;configuration&#x2F;">Configuration</a>
                        </li>
                    
                </ul>
            </li>
        
            
            <li>
                <span class="documentation__sidebar__title">Content</span>
                <ul>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;content&#x2F;overview&#x2F;">Overview</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;content&#x2F;section&#x2F;">Section</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;content&#x2F;page&#x2F;">Page</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;content&#x2F;shortcodes&#x2F;">Shortcodes</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;content&#x2F;linking&#x2F;">Internal links &amp; deep linking</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;content&#x2F;table-of-contents&#x2F;">Table of Contents</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;content&#x2F;syntax-highlighting&#x2F;">Syntax Highlighting</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;content&#x2F;taxonomies&#x2F;">Taxonomies</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;content&#x2F;search&#x2F;">Search</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;content&#x2F;sass&#x2F;">Sass</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;content&#x2F;image-processing&#x2F;">Image processing</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;content&#x2F;multilingual&#x2F;">Multilingual sites</a>
                        </li>
                    
                </ul>
            </li>
        
            
            <li>
                <span class="documentation__sidebar__title">Templates</span>
                <ul>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;templates&#x2F;overview&#x2F;">Overview</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;templates&#x2F;pages-sections&#x2F;">Sections and Pages</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;templates&#x2F;pagination&#x2F;">Pagination</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;templates&#x2F;taxonomies&#x2F;">Taxonomies</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;templates&#x2F;feeds&#x2F;">Feeds</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;templates&#x2F;sitemap&#x2F;">Sitemap</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;templates&#x2F;robots&#x2F;">Robots.txt</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;templates&#x2F;404&#x2F;">404 error page</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;templates&#x2F;archive&#x2F;">Archive</a>
                        </li>
                    
                </ul>
            </li>
        
            
            <li>
                <span class="documentation__sidebar__title">Themes</span>
                <ul>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;themes&#x2F;overview&#x2F;">Overview</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;themes&#x2F;installing-and-using-themes&#x2F;">Installing &amp; using themes</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;themes&#x2F;creating-a-theme&#x2F;">Creating a theme</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;themes&#x2F;extending-a-theme&#x2F;">Customizing a theme</a>
                        </li>
                    
                </ul>
            </li>
        
            
            <li>
                <span class="documentation__sidebar__title">Deployment</span>
                <ul>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;deployment&#x2F;overview&#x2F;">Overview</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;deployment&#x2F;sourcehut&#x2F;">Sourcehut Pages</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;deployment&#x2F;netlify&#x2F;">Netlify</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;deployment&#x2F;github-pages&#x2F;">GitHub Pages</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;deployment&#x2F;gitlab-pages&#x2F;">GitLab Pages</a>
                        </li>
                    
                        <li class="active">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;deployment&#x2F;codeberg-pages&#x2F;">Codeberg Pages</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;deployment&#x2F;edgio&#x2F;">Edgio</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;deployment&#x2F;vercel&#x2F;">Vercel</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;deployment&#x2F;zeabur&#x2F;">Zeabur</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;deployment&#x2F;cloudflare-pages&#x2F;">Cloudflare Pages</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;deployment&#x2F;flyio&#x2F;">Fly.io</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;deployment&#x2F;aws-s3&#x2F;">AWS S3 Bucket</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;deployment&#x2F;docker-image&#x2F;">Docker image</a>
                        </li>
                    
                </ul>
            </li>
        
        </ul>
    </aside>
    <div class="documentation__content">
        
    <h1>Codeberg Pages</h1>
    <p>We are going to use the Woodpecker CI hosted by Codeberg to host the site on Codeberg Pages.</p>
<h2 id="configuring-your-repository"><a class="zola-anchor" href="#configuring-your-repository" aria-label="Anchor link for: configuring-your-repository">ðŸ”—</a>Configuring your repository</h2>
<p>It is required that you create a repository on Codeberg that contains only your Zola project. The <a href="https://www.getzola.org/documentation/getting-started/directory-structure/">Zola directory structure</a> should be in the root of your repository.</p>
<p>Information on how to create and manage a repository on Codeberg can be found at <a href="https://docs.codeberg.org/getting-started/first-repository/">https://docs.codeberg.org/getting-started/first-repository/</a>.</p>
<h2 id="ensuring-that-woodpecker-ci-can-access-your-theme"><a class="zola-anchor" href="#ensuring-that-woodpecker-ci-can-access-your-theme" aria-label="Anchor link for: ensuring-that-woodpecker-ci-can-access-your-theme">ðŸ”—</a>Ensuring that Woodpecker CI can access your theme</h2>
<p>Depending on how you added your theme, your repository may not contain it. The best way to ensure that the theme is added is to use submodules. Make sure you use the <code>https</code> version of the URL.</p>
<pre data-lang="bash" style="background-color:#383838;color:#e6e1dc;" class="language-bash "><code class="language-bash" data-lang="bash"><span>git submodule add </span><span style="color:#cc7833;">&lt;</span><span>theme_url</span><span style="color:#cc7833;">&gt;</span><span> themes/</span><span style="color:#cc7833;">&lt;</span><span>theme_name</span><span style="color:#cc7833;">&gt;
</span></code></pre>
<p>For example, this could look like:</p>
<pre data-lang="bash" style="background-color:#383838;color:#e6e1dc;" class="language-bash "><code class="language-bash" data-lang="bash"><span>git submodule add https://github.com/getzola/hyde.git themes/hyde
</span></code></pre>
<h2 id="setting-up-woodpecker-ci"><a class="zola-anchor" href="#setting-up-woodpecker-ci" aria-label="Anchor link for: setting-up-woodpecker-ci">ðŸ”—</a>Setting up Woodpecker CI</h2>
<p>Assuming you have access to <a href="https://docs.codeberg.org/ci/">Codeberg's Woodpecker CI</a>, we can build the site and automatically deploy it to <a href="https://codeberg.page">Codeberg Pages</a> on every commit.</p>
<p>First, place the following sample <a href="https://codeberg.org/Codeberg-CI/examples/src/branch/main/Zola/.woodpecker.yaml">Zola CI file</a> in the root of your project:</p>
<pre data-lang="yaml" style="background-color:#383838;color:#e6e1dc;" class="language-yaml "><code class="language-yaml" data-lang="yaml"><span style="color:#95815e;"># Exclude the pipeline to run on the pages branch
</span><span style="color:#e8bf6a;">when</span><span>:
</span><span>  </span><span style="color:#e8bf6a;">branch</span><span>:
</span><span>    </span><span style="color:#e8bf6a;">exclude</span><span>: </span><span style="color:#a5c261;">pages
</span><span>
</span><span style="color:#95815e;"># Clone recursively to fully clone the themes given as Git submodules
</span><span style="color:#e8bf6a;">clone</span><span>:
</span><span>  </span><span style="color:#e8bf6a;">git</span><span>:
</span><span>    </span><span style="color:#e8bf6a;">image</span><span>: </span><span style="color:#a5c261;">woodpeckerci/plugin-git
</span><span>    </span><span style="color:#e8bf6a;">settings</span><span>:
</span><span>      </span><span style="color:#e8bf6a;">recursive</span><span>: </span><span style="color:#6e9cbe;">true
</span><span>
</span><span style="color:#e8bf6a;">steps</span><span>:
</span><span>  </span><span style="color:#95815e;"># Build Zola static files
</span><span>  </span><span style="color:#e8bf6a;">build</span><span>:
</span><span>    </span><span style="color:#e8bf6a;">image</span><span>: </span><span style="color:#a5c261;">alpine:edge
</span><span>    </span><span style="color:#e8bf6a;">commands</span><span>:
</span><span>      - </span><span style="color:#a5c261;">apk add zola
</span><span>      - </span><span style="color:#a5c261;">zola build
</span><span>    </span><span style="color:#e8bf6a;">when</span><span>:
</span><span>      </span><span style="color:#e8bf6a;">event</span><span>: [</span><span style="color:#a5c261;">push</span><span>, </span><span style="color:#a5c261;">pull_request</span><span>]
</span><span>
</span><span>  </span><span style="color:#e8bf6a;">publish</span><span>:
</span><span>    </span><span style="color:#e8bf6a;">image</span><span>: </span><span style="color:#a5c261;">bitnami/git
</span><span>    </span><span style="color:#e8bf6a;">secrets</span><span>: [</span><span style="color:#a5c261;">mail</span><span>, </span><span style="color:#a5c261;">codeberg_token</span><span>]
</span><span>    </span><span style="color:#e8bf6a;">commands</span><span>:
</span><span>      </span><span style="color:#95815e;"># Configure Git
</span><span>      - </span><span style="color:#a5c261;">git config --global user.email $MAIL
</span><span>      - </span><span style="color:#a5c261;">git config --global user.name &quot;Woodpecker CI&quot;
</span><span>      </span><span style="color:#95815e;"># Clone the output branch
</span><span>      - </span><span style="color:#a5c261;">git clone --branch pages https://$CODEBERG_TOKEN@codeberg.org/$CI_REPO.git $CI_REPO_NAME
</span><span>      </span><span style="color:#95815e;"># Enter the output branch
</span><span>      - </span><span style="color:#a5c261;">cd $CI_REPO_NAME
</span><span>      </span><span style="color:#95815e;"># Remove old files
</span><span>      - </span><span style="color:#a5c261;">git rm -r &quot;*&quot; || true </span><span style="color:#95815e;"># Don&#39;t fail if there&#39;s nothing to remove
</span><span>      </span><span style="color:#95815e;"># Copy the output of the build step
</span><span>      - </span><span style="color:#a5c261;">cp -ar ../public/. .
</span><span>      </span><span style="color:#95815e;"># Commit and push all static files with the source commit hash
</span><span>      - </span><span style="color:#a5c261;">git add --all
</span><span>      - </span><span style="color:#a5c261;">git commit -m &quot;Woodpecker CI ${CI_COMMIT_SHA} [SKIP CI]&quot; --allow-empty
</span><span>      - </span><span style="color:#a5c261;">git push
</span><span>    </span><span style="color:#e8bf6a;">when</span><span>:
</span><span>      </span><span style="color:#e8bf6a;">event</span><span>: [</span><span style="color:#a5c261;">push</span><span>]
</span></code></pre>
<p>Then add the following secrets to <a href="https://ci.codeberg.org/">Woodpecker</a>:</p>
<ul>
<li><code>mail</code>: Your email address as used by Codeberg.</li>
<li><code>codeberg_token</code>: <a href="https://docs.codeberg.org/advanced/access-token/">Codeberg access token</a> with <code>write:repository</code> permission.</li>
</ul>
<p>Once done, you can trigger the CI by pushing something to the repository, and Woodpecker will build the site and copy the resulting site to the <code>pages</code> branch and it will be available at <code>https://&lt;user&gt;.codeberg.page/&lt;repository&gt;</code>.</p>
<p>For <a href="https://docs.codeberg.org/codeberg-pages/using-custom-domain/">custom domain</a>, create the <code>.domains</code> file inside the <code>./static/</code> directory so that it will be copied to the resulting build.</p>
<p>More information about Codeberg Pages is available in the <a href="https://docs.codeberg.org/codeberg-pages/">official Codeberg documentation</a>.</p>


    </div>
</div>

        </div>
        <footer>
            Â©2017-2024 â€” <a class="white" href="https://www.vincentprouillet.com">Vincent Prouillet</a> and <a class="white" href="https://github.com/getzola/zola/graphs/contributors">contributors</a>
        </footer>

        <script type="text/javascript" src="https://www.getzola.org/elasticlunr.min.js"></script>
        <script type="text/javascript" src="https://www.getzola.org/search.js"></script>
    </body>
</html>
